import{S as t,i as s,s as e,e as a,t as n,k as r,c as l,a as o,g as i,d as c,n as h,b as u,f as m,H as p,h as f,l as d,I as v,J as g,u as w,w as $,x as y,A as E,r as k,j as _,m as b,o as x,v as D}from"../chunks/vendor-0be302a7.js";function S(t,s,e){const a=t.slice();return a[1]=s[e].status,a[2]=s[e].name,a}function N(t){let s,e;return{c(){s=a("span"),e=n("Down!"),this.h()},l(t){s=l(t,"SPAN",{class:!0});var a=o(s);e=i(a,"Down!"),a.forEach(c),this.h()},h(){u(s,"class","bad_status svelte-vuw30m")},m(t,a){m(t,s,a),p(s,e)},d(t){t&&c(s)}}}function q(t){let s,e;return{c(){s=a("span"),e=n("Up!"),this.h()},l(t){s=l(t,"SPAN",{class:!0});var a=o(s);e=i(a,"Up!"),a.forEach(c),this.h()},h(){u(s,"class","good_status svelte-vuw30m")},m(t,a){m(t,s,a),p(s,e)},d(t){t&&c(s)}}}function H(t){let s,e,d,v,g,w,$=t[2]+"";function y(t,s){return t[1]?q:N}let E=y(t),k=E(t);return{c(){s=a("div"),e=a("p"),d=n($),v=n(":"),g=r(),k.c(),w=r(),this.h()},l(t){s=l(t,"DIV",{class:!0});var a=o(s);e=l(a,"P",{class:!0});var n=o(e);d=i(n,$),v=i(n,":"),n.forEach(c),g=h(a),k.l(a),w=h(a),a.forEach(c),this.h()},h(){u(e,"class","service_name svelte-vuw30m"),u(s,"class","status_line svelte-vuw30m")},m(t,a){m(t,s,a),p(s,e),p(e,d),p(e,v),p(s,g),k.m(s,null),p(s,w)},p(t,e){1&e&&$!==($=t[2]+"")&&f(d,$),E!==(E=y(t))&&(k.d(1),k=E(t),k&&(k.c(),k.m(s,w)))},d(t){t&&c(s),k.d()}}}function P(t){let s,e=t[0],a=[];for(let n=0;n<e.length;n+=1)a[n]=H(S(t,e,n));return{c(){for(let t=0;t<a.length;t+=1)a[t].c();s=d()},l(t){for(let s=0;s<a.length;s+=1)a[s].l(t);s=d()},m(t,e){for(let s=0;s<a.length;s+=1)a[s].m(t,e);m(t,s,e)},p(t,[n]){if(1&n){let r;for(e=t[0],r=0;r<e.length;r+=1){const l=S(t,e,r);a[r]?a[r].p(l,n):(a[r]=H(l),a[r].c(),a[r].m(s.parentNode,s))}for(;r<a.length;r+=1)a[r].d(1);a.length=e.length}},i:v,o:v,d(t){g(a,t),t&&c(s)}}}function T(t,s,e){let{stats:a}=s;return t.$$set=t=>{"stats"in t&&e(0,a=t.stats)},t.$$.update=()=>{1&t.$$.dirty&&console.log(`stats: ${a}`)},[a]}class j extends t{constructor(t){super(),s(this,t,T,P,e,{stats:0})}}function I(t){let s,e;return s=new j({props:{stats:t[0]}}),{c(){_(s.$$.fragment)},l(t){b(s.$$.fragment,t)},m(t,a){x(s,t,a),e=!0},p(t,e){const a={};1&e&&(a.stats=t[0]),s.$set(a)},i(t){e||(y(s.$$.fragment,t),e=!0)},o(t){w(s.$$.fragment,t),e=!1},d(t){D(s,t)}}}function V(t){let s,e;return{c(){s=a("p"),e=n("...waiting"),this.h()},l(t){s=l(t,"P",{class:!0});var a=o(s);e=i(a,"...waiting"),a.forEach(c),this.h()},h(){u(s,"class","waiting svelte-feymqk")},m(t,a){m(t,s,a),p(s,e)},p:v,i:v,o:v,d(t){t&&c(s)}}}function A(t){let s,e,f,d,v,g,E,_,b,x;const D=[V,I],S=[];function N(t,s){return t[1]?0:1}return _=N(t),b=S[_]=D[_](t),{c(){s=a("html"),e=a("body"),f=a("div"),d=a("div"),v=a("h1"),g=n("Nahmii Status"),E=r(),b.c(),this.h()},l(t){s=l(t,"HTML",{class:!0});var a=o(s);e=l(a,"BODY",{});var n=o(e);f=l(n,"DIV",{class:!0});var r=o(f);d=l(r,"DIV",{class:!0});var u=o(d);v=l(u,"H1",{class:!0});var m=o(v);g=i(m,"Nahmii Status"),m.forEach(c),E=h(u),b.l(u),u.forEach(c),r.forEach(c),n.forEach(c),a.forEach(c),this.h()},h(){u(v,"class","status_title svelte-feymqk"),u(d,"class","status_card_frame svelte-feymqk"),u(f,"class","status_card svelte-feymqk"),u(s,"class","nahmii-scaling-ethereum-background svelte-feymqk")},m(t,a){m(t,s,a),p(s,e),p(e,f),p(f,d),p(d,v),p(v,g),p(d,E),S[_].m(d,null),x=!0},p(t,[s]){let e=_;_=N(t),_===e?S[_].p(t,s):(k(),w(S[e],1,1,(()=>{S[e]=null})),$(),b=S[_],b?b.p(t,s):(b=S[_]=D[_](t),b.c()),y(b,1),b.m(d,null))},i(t){x||(y(b),x=!0)},o(t){w(b),x=!1},d(t){t&&c(s),S[_].d()}}}async function O(t){let s;try{s=await fetch(t.url,t.options),console.log(t.name,s)}catch{return{status:!1,name:t.name}}return s.ok?{status:!0,name:t.name}:{status:!1,name:t.name}}function C(t,s,e){let a=!0;var n=new Headers;n.append("Content-Type","application/json");var r={method:"POST",headers:n,body:JSON.stringify({jsonrpc:"2.0",method:"web3_clientVersion",params:[],id:1}),redirect:"follow"},l=new Headers;l.append("Content-Type","application/html");var o={method:"GET",headers:l,redirect:"follow"};let i=[{id:"ropsten",name:"Ropsten",url:"https://l2.testnet.nahmii.io",options:r},{id:"mainnet",name:"Mainnet",url:"https://path/to/mainnet",options:r},{id:"explorer",name:"Explorer",url:"https://explorer.testnet.nahmii.io",options:o},{id:"deployer",name:"Deployer",url:"https://meta.testnet.nahmii.io",options:o}],{statuses:c=[]}=s;return E((async()=>{await async function(t){for(let s of t)e(0,c=[...c,await O(s)])}(i),console.log(c),e(1,a=!1)})),t.$$set=t=>{"statuses"in t&&e(0,c=t.statuses)},[c,a]}class J extends t{constructor(t){super(),s(this,t,C,A,e,{statuses:0})}}export{J as default};
