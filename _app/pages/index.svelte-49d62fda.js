import{S as t,i as s,s as e,e as a,t as n,k as r,l,c as o,a as i,g as c,d as h,n as u,b as m,f as p,H as d,h as f,I as v,J as g,K as $,j as w,m as E,o as x,u as _,w as y,x as S,v as N,A as j,r as D}from"../chunks/vendor-3c7d616a.js";function T(t,s,e){const a=t.slice();return a[1]=s[e].status,a[2]=s[e].name,a[4]=e,a}function b(t){let s,e;return{c(){s=a("span"),e=n("Down!"),this.h()},l(t){s=o(t,"SPAN",{class:!0});var a=i(s);e=c(a,"Down!"),a.forEach(h),this.h()},h(){m(s,"class","bad_status svelte-1hrzj3v")},m(t,a){p(t,s,a),d(s,e)},d(t){t&&h(s)}}}function H(t){let s,e;return{c(){s=a("span"),e=n("Up!"),this.h()},l(t){s=o(t,"SPAN",{class:!0});var a=i(s);e=c(a,"Up!"),a.forEach(h),this.h()},h(){m(s,"class","good_status svelte-1hrzj3v")},m(t,a){p(t,s,a),d(s,e)},d(t){t&&h(s)}}}function M(t){let s;return{c(){s=a("hr"),this.h()},l(t){s=o(t,"HR",{class:!0}),this.h()},h(){m(s,"class","status_line_seperator svelte-1hrzj3v")},m(t,e){p(t,s,e)},d(t){t&&h(s)}}}function I(t){let s,e,v,g,$,w,E,x=t[2]+"";function _(t,s){return t[1]?H:b}let y=_(t),S=y(t),N=t[4]<t[0].length-1&&M();return{c(){s=a("div"),e=a("p"),v=n(x),g=n(":"),$=r(),S.c(),w=r(),N&&N.c(),E=l(),this.h()},l(t){s=o(t,"DIV",{class:!0});var a=i(s);e=o(a,"P",{class:!0});var n=i(e);v=c(n,x),g=c(n,":"),n.forEach(h),$=u(a),S.l(a),a.forEach(h),w=u(t),N&&N.l(t),E=l(),this.h()},h(){m(e,"class","service_name svelte-1hrzj3v"),m(s,"class","status_line svelte-1hrzj3v")},m(t,a){p(t,s,a),d(s,e),d(e,v),d(e,g),d(s,$),S.m(s,null),p(t,w,a),N&&N.m(t,a),p(t,E,a)},p(t,e){1&e&&x!==(x=t[2]+"")&&f(v,x),y!==(y=_(t))&&(S.d(1),S=y(t),S&&(S.c(),S.m(s,null))),t[4]<t[0].length-1?N||(N=M(),N.c(),N.m(E.parentNode,E)):N&&(N.d(1),N=null)},d(t){t&&h(s),S.d(),t&&h(w),N&&N.d(t),t&&h(E)}}}function z(t){let s,e=t[0],a=[];for(let n=0;n<e.length;n+=1)a[n]=I(T(t,e,n));return{c(){for(let t=0;t<a.length;t+=1)a[t].c();s=l()},l(t){for(let s=0;s<a.length;s+=1)a[s].l(t);s=l()},m(t,e){for(let s=0;s<a.length;s+=1)a[s].m(t,e);p(t,s,e)},p(t,[n]){if(1&n){let r;for(e=t[0],r=0;r<e.length;r+=1){const l=T(t,e,r);a[r]?a[r].p(l,n):(a[r]=I(l),a[r].c(),a[r].m(s.parentNode,s))}for(;r<a.length;r+=1)a[r].d(1);a.length=e.length}},i:v,o:v,d(t){g(a,t),t&&h(s)}}}function A(t,s,e){let{stats:a}=s;return t.$$set=t=>{"stats"in t&&e(0,a=t.stats)},t.$$.update=()=>{1&t.$$.dirty&&console.log(`stats: ${a}`)},[a]}class P extends t{constructor(t){super(),s(this,t,A,z,e,{stats:0})}}function V(t){let s,e,n,r,l;return{c(){s=a("header"),e=a("div"),n=a("a"),r=a("img"),this.h()},l(t){s=o(t,"HEADER",{class:!0});var a=i(s);e=o(a,"DIV",{class:!0});var l=i(e);n=o(l,"A",{href:!0,class:!0});var c=i(n);r=o(c,"IMG",{src:!0,alt:!0,class:!0}),c.forEach(h),l.forEach(h),a.forEach(h),this.h()},h(){$(r.src,l="/_app/assets/nahmii-logo-colour-negative-100px-h-79350300.png")||m(r,"src","/_app/assets/nahmii-logo-colour-negative-100px-h-79350300.png"),m(r,"alt","Nahmii Sub-system Status Overview"),m(r,"class","svelte-1d64pfo"),m(n,"href","https://nahmii.io"),m(n,"class","svelte-1d64pfo"),m(e,"class","corner svelte-1d64pfo"),m(s,"class","svelte-1d64pfo")},m(t,a){p(t,s,a),d(s,e),d(e,n),d(n,r)},p:v,i:v,o:v,d(t){t&&h(s)}}}class k extends t{constructor(t){super(),s(this,t,null,V,e,{})}}function O(t){let s,e;return s=new P({props:{stats:t[0]}}),{c(){w(s.$$.fragment)},l(t){E(s.$$.fragment,t)},m(t,a){x(s,t,a),e=!0},p(t,e){const a={};1&e&&(a.stats=t[0]),s.$set(a)},i(t){e||(S(s.$$.fragment,t),e=!0)},o(t){_(s.$$.fragment,t),e=!1},d(t){N(s,t)}}}function C(t){let s,e;return{c(){s=a("p"),e=n("...waiting"),this.h()},l(t){s=o(t,"P",{class:!0});var a=i(s);e=c(a,"...waiting"),a.forEach(h),this.h()},h(){m(s,"class","waiting svelte-1nm3swo")},m(t,a){p(t,s,a),d(s,e)},p:v,i:v,o:v,d(t){t&&h(s)}}}function G(t){let s,e,l,f,v,g,$,j,T,b,H,M;l=new k({});const I=[C,O],z=[];function A(t,s){return t[1]?0:1}return b=A(t),H=z[b]=I[b](t),{c(){s=a("html"),e=a("body"),w(l.$$.fragment),f=r(),v=a("div"),g=a("div"),$=a("h1"),j=n("Nahmii Status"),T=r(),H.c(),this.h()},l(t){s=o(t,"HTML",{class:!0});var a=i(s);e=o(a,"BODY",{});var n=i(e);E(l.$$.fragment,n),f=u(n),v=o(n,"DIV",{class:!0});var r=i(v);g=o(r,"DIV",{class:!0});var m=i(g);$=o(m,"H1",{class:!0});var p=i($);j=c(p,"Nahmii Status"),p.forEach(h),T=u(m),H.l(m),m.forEach(h),r.forEach(h),n.forEach(h),a.forEach(h),this.h()},h(){m($,"class","status_title svelte-1nm3swo"),m(g,"class","status_card_frame svelte-1nm3swo"),m(v,"class","status_card svelte-1nm3swo"),m(s,"class","nahmii-scaling-ethereum-background svelte-1nm3swo")},m(t,a){p(t,s,a),d(s,e),x(l,e,null),d(e,f),d(e,v),d(v,g),d(g,$),d($,j),d(g,T),z[b].m(g,null),M=!0},p(t,[s]){let e=b;b=A(t),b===e?z[b].p(t,s):(D(),_(z[e],1,1,(()=>{z[e]=null})),y(),H=z[b],H?H.p(t,s):(H=z[b]=I[b](t),H.c()),S(H,1),H.m(g,null))},i(t){M||(S(l.$$.fragment,t),S(H),M=!0)},o(t){_(l.$$.fragment,t),_(H),M=!1},d(t){t&&h(s),N(l),z[b].d()}}}async function J(t){let s;try{s=await fetch(t.url,t.options),console.log(t.name,s)}catch{return{status:!1,name:t.name}}return s.ok?{status:!0,name:t.name}:{status:!1,name:t.name}}function R(t,s,e){let a=!0;var n=new Headers;n.append("Content-Type","application/json");var r={method:"POST",headers:n,body:JSON.stringify({jsonrpc:"2.0",method:"web3_clientVersion",params:[],id:1}),redirect:"follow"},l=new Headers;l.append("Content-Type","application/html");var o={method:"GET",headers:l,redirect:"follow"};let i=[{id:"mainnet-node",name:"Mainnet Node",url:"https://path/to/mainnet/node",options:r},{id:"mainnet-explorer",name:"Mainnet Explorer",url:"https://path/to/mainnet/explorer",options:r},{id:"mainnet-meta-service",name:"Mainnet Meta Service",url:"https://path/to/mainnet/meta/service",options:r},{id:"testnet-node",name:"Testnet Node",url:"https://l2.testnet.nahmii.io",options:r},{id:"testnet-explorer",name:"Testnet Explorer",url:"https://explorer.testnet.nahmii.io",options:o},{id:"testnet-meta-service",name:"Testnet Meta Service",url:"https://meta.testnet.nahmii.io",options:o}],{statuses:c=[]}=s;return j((async()=>{await async function(t){for(let s of t)e(0,c=[...c,await J(s)])}(i),console.log(c),e(1,a=!1)})),t.$$set=t=>{"statuses"in t&&e(0,c=t.statuses)},[c,a]}class U extends t{constructor(t){super(),s(this,t,R,G,e,{statuses:0})}}export{U as default};
